<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>カタカナ → 한국어 변환기</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      font-size: 28px;
      color: #1a73e8;
    }
    textarea {
      width: 80%;
      height: 100px;
      font-size: 20px;
      margin: 10px 0;
    }
    button {
      font-size: 18px;
      padding: 10px 20px;
      background-color: #1a73e8;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 0;
    }
    #output {
      margin-top: 20px;
      font-size: 22px;
      font-weight: bold;
      color: #333;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

  <h1>カタカナ → 한국어 변환기</h1>
  <textarea id="inputText" placeholder="여기에 카타카나를 입력하세요"></textarea>
  <button onclick="convert()">변환하기</button>
  <div id="output"></div>

  <script>
    // 기본 매핑 테이블 (일부만, 필요하면 확장 가능)
    const table = {
      "ア":"아","イ":"이","ウ":"우","エ":"에","オ":"오",
      "カ":"카","キ":"키","ク":"쿠","ケ":"케","コ":"코",
      "ガ":"가","ギ":"기","グ":"구","ゲ":"게","ゴ":"고",
      "サ":"사","シ":"시","ス":"스","セ":"세","ソ":"소",
      "ザ":"자","ジ":"지","ズ":"즈","ゼ":"제","ゾ":"조",
      "タ":"타","チ":"치","ツ":"츠","テ":"테","ト":"토",
      "ダ":"다","ヂ":"지","ヅ":"즈","デ":"데","ド":"도",
      "ナ":"나","ニ":"니","ヌ":"누","ネ":"네","ノ":"노",
      "ハ":"하","ヒ":"히","フ":"후","ヘ":"헤","ホ":"호",
      "バ":"바","ビ":"비","ブ":"부","ベ":"베","ボ":"보",
      "パ":"파","ピ":"피","プ":"푸","ペ":"페","ポ":"포",
      "マ":"마","ミ":"미","ム":"무","メ":"메","モ":"모",
      "ヤ":"야","ユ":"유","ヨ":"요",
      "ラ":"라","リ":"리","ル":"루","レ":"레","ロ":"로",
      "ワ":"와","ヲ":"오","ン":"ㄴ" // ン은 따로 처리
    };

    function kanaToHangul(input) {
      let result = "";
      for (let i = 0; i < input.length; i++) {
        let char = input[i];

        // 1) 促音 (ッ) 처리
        if (char === "ッ") {
          let next = input[i + 1];
          if (next) {
            if ("カキクケコガギグゲゴ".includes(next)) result += "ㄲ";
            else if ("サシスセソザジズゼゾ".includes(next)) result += "ㅆ";
            else if ("タチツテトダヂヅデド".includes(next)) result += "ㄸ";
            else if ("パピプペポバビブベボ".includes(next)) result += "ㅃ";
          }
          continue;
        }

        // 2) ン 처리
        if (char === "ン") {
          let next = input[i + 1];
          if (!next) {
            result += "ㅇ"; // 단어 끝 → 받침 ㅇ
          } else if ("マミムメモ".includes(next) || "バビブベボ".includes(next)) {
            result += "ㅁ";
          } else if ("カキクケコガギグゲゴ".includes(next)) {
            result += "ㅇ";
          } else {
            result += "ㄴ";
          }
          continue;
        }

        // 3) 일반 매핑
        result += table[char] || char;
      }
      return result;
    }

    function convert() {
      const input = document.getElementById("inputText").value.trim();
      const output = kanaToHangul(input);
      document.getElementById("output").innerText = output;
    }
  </script>

</body>
</html>
